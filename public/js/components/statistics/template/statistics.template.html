<div class="container">
    <div class="row justify-content-center" style="margin-top: 40px;">
        <div class="col-lg-9">
            <div class="card text-grey">
                <div class="card-header bg-primary text-white">
                    <i class="fa fa-pie-chart"></i> Statistics
                </div>
                <div class="card-body">
                    <form name="vm.statsForm" ng-submit="vm.getStats()">
                        <div class="row">
                            <div class="form-group col-md-5">
                                Program
                                <select selector
                                name="program" 
                                require="true"
                                ng-init="vm.stat.program = vm.stat.program || vm.programs[0]"
                                label-attr="name"
                                options = "vm.programs"
                                model="vm.stat.program"
                                >
                                </select>
                                <!-- {{vm.stat.program.name}} for getting specific data -->
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-3">
                               Period
                               <select name="period" class="md-form form-control"
                               ng-init = "vm.statsCriterions.period = vm.periods[0]"
                               ng-options = "p as p for p in vm.periods"
                               ng-model="vm.statsCriterions.period"
                               >
                               </select>
                            </div>
                            <!-- Report Date Month -->
                            <div class="form-group col-md-5 d-flex flex-column" ng-show="vm.statsCriterions.period != 'Year'">
                                {{vm.statsCriterions.period}}
                                <div class="md-form flex-pill m-0 px-1">
                                    <select selector
                                        name="period_range_from"
                                        ng-init="vm.statsCriterions.periods.from = vm.ranges[vm.statsCriterions.period[0].num]"
                                        options="vm.ranges[vm.statsCriterions.period] " 
                                        require="vm.statsCriterions.period != 'Year'"
                                        label-attr="name"
                                        model="vm.statsCriterions.periods.from"
                                    >
                                    </select>
                                </div>
                                   <!--  {{vm.statsCriterions.periods.from.name}} -->
                                <div class="text-danger font-weight-bold" 
                                    ng-messages="vm.fuseErr('period_range')" 
                                    ng-show="vm.statsForm.period_range_from.$invalid || vm.statsForm.period_range_to.$invalid"
                                    ng-messages-multiple>
                                    <div ng-messages-include="js/components/statistics/messages/messages.html"></div>
                                </div>
                            </div>

                            <div class="form-group col-md-3">
                                Year
                                <select selector 
                                class="" 
                                name="year"
                                model="vm.statsCriterions.year"
                                options = "vm.years"
                                require="true"
                                ng-init = "vm.statsCriterions.year = vm.statsCriterions.year || vm.years[vm.years.length-1]"
                                
                                >
                                </select>
                            </div>
                        </div>
                            <!-- <div class="md-form">
                                <input type="text" id="materialRegisterFormFirstName" class="form-control">
                                <label for="materialRegisterFormFirstName">First name</label>
                            </div> -->

                        </div>


                        <div class="row float-right mt-3">
                            <button type="submit" class="btn btn-info waves-effect btn-lg" ng-show="!vm.isLoading"><i
                                    class="fa fa-check"></i> GENERATE</button>
                            <h1 ng-show="vm.isLoading"><i class="fa fa-spinner fa-spin text-info"></i></h1>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
